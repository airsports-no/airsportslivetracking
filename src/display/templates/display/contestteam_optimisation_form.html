{% extends "base.html" %}
{% load static %}
{% load bootstrap4 %}
{% block content %}

    {{ form.media }}
    {{ form.errors }}
    <h2>Contestant scheduling</h2>
    Scheduling the contestants should ideally be done before the task starts.  Be aware that any contestant belonging
    to a team not selected below will be removed. Scheduling existing contestants may change their takeoff times to
    produce a valid solution. This will fail if any of the contestants have already started tracking since it is
    impossible to update their takeoff time. The resulting solution will therefore maybe not be correct.

    <a href="{% url 'navigationtask_detail' navigation_task.pk %}">Back to task details</a>
    <p>
        <a href="#" onclick="select_all()">Select all</a>/<a href="#" onclick="deselect_all()">Deselect all</a>
    </p>
    <form method="post" class="form">
        {% csrf_token %}
        {% bootstrap_form form %}
        {% buttons %}
            <button type="submit" class="btn btn-primary">Optimise</button>
        {% endbuttons %}
    </form>

    <script type="text/javascript">
        function select_all() {
            $('input[type=checkbox]').prop('checked', true);
        }

        function deselect_all() {
            $('input[type=checkbox]').prop('checked', false);
        }

    </script>
    <script type="text/javascript">
        $('#id_first_takeoff_time').datetimepicker({dateFormat: "yy-mm-dd"});
    </script>

{% endblock %}
