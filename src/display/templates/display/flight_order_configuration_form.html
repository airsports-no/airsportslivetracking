{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load crispy_forms_tags %}

{% block content %}
    <h2>Flight order configuration for {{ navigation_task }}</h2>
    <form method="post" class="form">
        {% crispy form %}
        <div id="picker"></div>
        <script src="{% static 'js/iro.min.js' %}"></script>
        <script>
            var colorPicker = new iro.ColorPicker('#picker', {
                color: "{{ initial_color }}"
            });
            colorPicker.on('color:change', function (color) {
                // log the current color as a HEX string
                console.log(color.hexString);
                document.getElementById('id_map_line_colour').value = color.hexString;
            });
            const customMap = document.getElementById("id_map_user_source")
            customMap.onchange = function (e) {
                if (customMap.value === "") {
                    console.log("Selected nothing")
                    document.getElementById("div_id_map_source").style.display=""
                } else {
                    document.getElementById("div_id_map_source").style.display = "none"
                }
                console.log(customMap.value)
            }
        </script>
    </form>
{% endblock %}
